<!DOCTYPE html>
<html>
<head>
  <title>Local AI Chatbot</title>
  <script src="https://webllm.mlc.ai/webllm.min.js"></script>
</head>
<body>
  <h1>Local AI Chatbot</h1>

  <textarea id="input" rows="3" cols="40" placeholder="Say something..."></textarea><br>
  <button onclick="sendMessage()">Send</button>

  <pre id="output"></pre>

<script>
let engine;

async function init() {
    engine = await webllm.createChatCompletion("Llama-3-8B-Instruct-q4f32_1-MLC");
}

async function sendMessage() {
    const text = document.getElementById("input").value;
    const reply = await engine.chat.completions.create({
        messages: [{ role: "user", content: text }]
    });
    
    document.getElementById("output").textContent += 
        "You: " + text + "\nBot: " + reply.choices[0].message.content + "\n\n";
}

init();
</script>
</body>
</html>
